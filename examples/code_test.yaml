nodes:
  - id: "trigger"
    type: "manual_trigger"
  
  - id: "data"
    type: "set_data"
    data:
      amount: 100
      currency: "USD"

  - id: "js_transform"
    type: "code"
    data:
      lang: "js"
      code: |
        // input is available as a global
        let tax = input.amount * 0.2;
        let total = input.amount + tax;
        
        // set output global
        output = {
          original: input,
          tax: tax,
          total: total,
          message: "Calculated via JS!"
        };

  - id: "log"
    type: "console_output"

edges:
  - from: "trigger"
    to: "data"
  - from: "data"
    to: "js_transform"
  - from: "js_transform"
    to: "log"
